var IdeaManager={};IdeaManager=IdeaManager||{},IdeaManager.Idea=IdeaManager.Idea||{},IdeaManager.Idea.ideaCluster=function(e){function a(){function e(){iw.close()}if(void 0!==ideaManager.cluster.locations&&0!=ideaManager.cluster.locations.length){var a=new google.maps.LatLng(56.046467,12.694512);mapOptions={zoom:12,center:a,panControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},map=new google.maps.Map(document.getElementById("idea-cluster-map"),mapOptions),geocoder=new google.maps.Geocoder,iw=new google.maps.InfoWindow({maxWidth:330}),google.maps.event.addListener(map,"click",e);var o=new OverlappingMarkerSpiderfier(map,{markersWontMove:!0,markersWontHide:!0}),n=new MarkerClusterer(map,[],{imagePath:ideaManager.cluster.iconPath,zoomOnClick:!0,maxZoom:17,gridSize:20});google.maps.event.addListener(map,"zoom_changed",function(){map.getZoom()>18&&map.setZoom(18)}),ideaManager.cluster.locations.map(function(a,r){geocoder.geocode({address:a.address},function(r,t){if("OK"==t){var i=new google.maps.Marker({position:r[0].geometry.location}),d="<h3>"+a.title+"</h3><p>"+a.excerpt+'</p><br><a target="_top" class="btn btn-md btn-primary" href="'+a.permalink+'">'+ideaManager.readMore+"</a>";google.maps.event.addListener(i,"click",e),o.addMarker(i,function(e){iw.setContent(d),iw.open(map,i)}),n.addMarker(i,!0),n.redraw()}})}),window.map=map,window.oms=o}}return new a}(jQuery),IdeaManager=IdeaManager||{},IdeaManager.Idea=IdeaManager.Idea||{},IdeaManager.Idea.renderMap=function(e){function a(){if(e(".idea-location").length){var a,o,n=e(".idea-location__map");a=new google.maps.Geocoder,e.each(n,function(r,t){var i=e(t).attr("data-location");a.geocode({address:i},function(a,t){if("OK"==t){var d=i.substr(0,i.indexOf(",")),l={zoom:15,center:a[0].geometry.location,disableDefaultUI:!0,zoomControl:!0,fullscreenControl:!0};o=new google.maps.Map(n[r],l);var g=new google.maps.InfoWindow({content:"<b>"+d+"</b>"}),s=new google.maps.Marker({map:o,position:a[0].geometry.location,icon:{path:google.maps.SymbolPath.CIRCLE,strokeColor:"#E553F9",scale:7},title:i});s.addListener("click",function(){g.open(o,s)})}else console.log("Error; Geocode was not successful: "+t),e("#location-box").parents("div[class^='grid-']").hide()})})}}return new a}(jQuery);